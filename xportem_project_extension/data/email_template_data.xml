<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
        
        <!-- Email Template for Sample Request -->
        <record id="email_template_sample_request" model="mail.template">
            <field name="name">Sample Request - Send to Supplier</field>
            <field name="model_id" ref="xportem_project_extension.model_project_task_sample"/>
            <field name="subject">Sample Request - ${object.reference} - ${object.product_display_name}</field>
            <field name="email_from">${(object.create_uid.email_formatted or user.email_formatted) | safe}</field>
            <field name="partner_to">${object.supplier_id.id}</field>
            <field name="body_html" type="html"><![CDATA[
<div style="font-family: 'Lucida Grande', Ubuntu, Arial, Verdana, sans-serif; font-size: 12px; color: rgb(34, 34, 34); background-color: #FFF;">
    <p>Dear ${object.supplier_id.name},</p>
    
    <p>We would like to request a product sample with the following details:</p>
    
    <table border="1" cellpadding="5" cellspacing="0" style="border-collapse: collapse; width: 100%;">
        <tr>
            <td style="width: 30%; background-color: #f0f0f0;"><strong>Reference:</strong></td>
            <td>${object.reference}</td>
        </tr>
        <tr>
            <td style="background-color: #f0f0f0;"><strong>Product:</strong></td>
            <td>${object.product_display_name}</td>
        </tr>
        <tr>
            <td style="background-color: #f0f0f0;"><strong>Description:</strong></td>
            <td>${object.sample_description}</td>
        </tr>
        <tr>
            <td style="background-color: #f0f0f0;"><strong>Quantity:</strong></td>
            <td>${object.quantity}</td>
        </tr>
        % if object.expected_date:
        <tr>
            <td style="background-color: #f0f0f0;"><strong>Expected Date:</strong></td>
            <td>${object.expected_date}</td>
        </tr>
        % endif
    </table>
    
    % if object.notes:
    <p><strong>Additional Notes:</strong><br/>
    ${object.notes}</p>
    % endif
    
    <p>Please confirm receipt of this request and provide the following information:</p>
    <ul>
        <li>Sample availability</li>
        <li>Estimated shipping date</li>
        <li>Any costs associated (sample cost, shipping cost)</li>
        <li>Tracking information once shipped</li>
    </ul>
    
    <p>Thank you for your cooperation.</p>
    
    <p>Best regards,<br/>
    ${object.create_uid.name}<br/>
    ${object.create_uid.company_id.name}</p>
</div>
]]>
            </field>
        </record>
        
        <!-- Email Template for Sample Received -->
        <record id="email_template_sample_received" model="mail.template">
            <field name="name">Sample Received - Notification</field>
            <field name="model_id" ref="xportem_project_extension.model_project_task_sample"/>
            <field name="subject">Sample Received - ${object.reference} - ${object.product_display_name}</field>
            <field name="email_from">${(object.create_uid.email_formatted or user.email_formatted) | safe}</field>
            <field name="partner_to">${object.task_id.user_ids.mapped('partner_id').ids}</field>
            <field name="body_html" type="html"><![CDATA[
<div style="font-family: 'Lucida Grande', Ubuntu, Arial, Verdana, sans-serif; font-size: 12px; color: rgb(34, 34, 34); background-color: #FFF;">
    <p>Hello,</p>
    
    <p>We are pleased to inform you that the following sample has been received:</p>
    
    <table border="1" cellpadding="5" cellspacing="0" style="border-collapse: collapse; width: 100%;">
        <tr>
            <td style="width: 30%; background-color: #f0f0f0;"><strong>Reference:</strong></td>
            <td>${object.reference}</td>
        </tr>
        <tr>
            <td style="background-color: #f0f0f0;"><strong>Product:</strong></td>
            <td>${object.product_display_name}</td>
        </tr>
        <tr>
            <td style="background-color: #f0f0f0;"><strong>Supplier:</strong></td>
            <td>${object.supplier_id.name}</td>
        </tr>
        <tr>
            <td style="background-color: #f0f0f0;"><strong>Received Date:</strong></td>
            <td>${object.received_date}</td>
        </tr>
        <tr>
            <td style="background-color: #f0f0f0;"><strong>Final Location:</strong></td>
            <td>${object.current_location_id.name or 'N/A'}</td>
        </tr>
    </table>
    
    <p>The sample is now available for evaluation.</p>
    
    <p>Best regards,<br/>
    ${user.name}<br/>
    ${user.company_id.name}</p>
</div>
]]>
            </field>
        </record>
        
    </data>
</odoo>